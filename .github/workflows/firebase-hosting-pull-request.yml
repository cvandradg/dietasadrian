--- 
jobs: 
  build_and_preview: 
    if: "${{ github.event.pull_request.head.repo.full_name == github.repository }}"
    runs-on: ubuntu-latest
        steps:
        - name: Check out code
          uses: actions/checkout@main
        - name: Deploy to Firebase
          uses: amar-sharma/deploy-firebase-github-ci@latest
          env:
            FIREBASE_TOKEN: ${{ secrets.FIREBASE_TOKEN }}
            FIREBASE_PROJECT: dietasadrianbadillafirebase
            FIREBASE_OPTIONS: '--only functions // Any command that needs to be passed to firebase deploy'
            
        - uses: FirebaseExtended/action-hosting-deploy@v0
          with:
            repoToken: "${{ secrets.GITHUB_TOKEN }}"
            firebaseServiceAccount: "${{ secrets.FIREBASE_SERVICE_ACCOUNT }}"
            expires: 30d
            projectId: dietasadrianbadillafirebase
name: "Deploy to Firebase Hosting on PR"
? "on"
: pull_request
