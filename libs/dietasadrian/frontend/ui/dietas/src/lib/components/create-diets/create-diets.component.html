<div class="crear-dietas-container">
  <div
    cdkDropList
    class="example-list"
    (cdkDropListDropped)="mealsDrop($event)"
  >
    <div
      class="meals-box"
      *ngFor="let meal of meals; let mealIndex = index"
      cdkDrag
    >
      <div class="meals">
        <div class="flex">
          <input
            type="text"
            class="ghost-input"
            [placeholder]="'Comida ' + (mealIndex+1)"
            required
          />

          <div class="meal-handle meal-handle" cdkDragHandle>
            <span class="material-symbols-outlined"> drag_indicator </span>
          </div>
        </div>

        <div>
          <div
            cdkDropList
            class="example-list"
            (cdkDropListDropped)="linesDrop($event, meal.id)"
          >
            <div *ngFor="let foodLine1 of meal.foodLines" cdkDrag>
              <dietas-adrian-nx-workspace-food-line
              [foodLine]="foodLine1"
              (deleteFoodLine)="onDeleteFoodLine(meal.id,$event)"
              ></dietas-adrian-nx-workspace-food-line>

            </div>
          </div>
        </div>
        <div class="meals-buttons">
          <span
            class="material-symbols-outlined icon"
            (click)="addFoodLine(meal.id)"
          >
            add_circle
          </span>
          <span
            class="material-symbols-outlined icon"
            (click)="deleteMeal(mealIndex)"
          >
            delete
          </span>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="crear-dieta-button-container">
  <span class="material-symbols-outlined icon icon-size" (click)="addMeal()">
    playlist_add
  </span>
</div>
