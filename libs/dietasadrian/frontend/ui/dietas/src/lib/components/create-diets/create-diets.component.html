<div class="crear-dietas-container">
  <div cdkDropList class="example-list" (cdkDropListDropped)="drop($event)">
    <div
      class="meals-box"
      *ngFor="let meal of meals; let mealIndex = index"
      cdkDrag
    >
      <div class="meals">
        <div class="meal-handle meal-handle" cdkDragHandle>
          <span class="material-symbols-outlined"> drag_indicator </span>
        </div>
        <div>
          <div
            cdkDropList
            class="example-list"
            (cdkDropListDropped)="drop($event)"
          >
            <div class="food-box" *ngFor="let foodLine of meal.foodLines" cdkDrag>
              <mat-chip-list aria-label="Fish selection">
                <mat-chip
                  *ngFor="
                    let ingredient of foodLine.ingredients;
                    let ingredientIndex = index
                  "
                >
                  {{ ingredient + ' ' + ingredientIndex }}

                  <button matChipRemove>
                    <mat-icon (click)="deleteIngredient(meal.id ,foodLine.id, ingredientIndex)"
                      >cancel</mat-icon
                    >
                  </button></mat-chip
                >
              </mat-chip-list>

              <div class="food-buttons">
                <span
                  class="material-symbols-outlined icon"
                  (click)="addIngredient(meal.id, foodLine.id)"
                >
                  add
                </span>

                <div class="food-handle" cdkDragHandle>
                  <span class="material-symbols-outlined"> drag_handle </span>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="meals-buttons">
          <span class="material-symbols-outlined icon" (click)="addFoodLine(meal.id)">
            add_circle
          </span>
          <span
            class="material-symbols-outlined icon"
            (click)="deleteMeal(mealIndex)"
          >
            delete
          </span>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="crear-dieta-button-container">
  <span class="material-symbols-outlined icon icon-size" (click)="addMeal()">
    playlist_add
  </span>
</div>
